@model BusinessLogic.Model.StoriesIndexModel

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@section MainHeader{

    @Html.Partial("PartialViews/PartialAdminHeader")
}

@section Container{
    <!-------------------------------- start sidebar -------------------------->

    <div id="sidebar-collapse" class="col-sm-4 col-lg-2 col-md-3 sidebar">
        <ul class="nav menu">
            <li class="headrop manage">
                <a href="#" data-toggle="collapse" data-target="#previous">Previous<i class="fa fa-fw fa-caret-down"></i></a>
                <ul id="previous" class="collapse">
                    <li>
                        <a href="#">ite 1</a>
                    </li>
                    <li>
                        <a href="#">ite 2</a>
                    </li>
                    <li>
                        <a href="#">ite 3</a>
                    </li>
                    <li>
                        <a href="#">ite 4</a>
                    </li>
                    <li>
                        <a href="#">ite 5</a>
                    </li>
                    <li>
                        <a href="#">ite 6</a>
                    </li>
                </ul>
            </li>
            <li class="headrop attendance active">
                <a href="#" data-toggle="collapse" data-target="#current">Current<i class="fa fa-fw fa-caret-down"></i></a>
                <ul id="current" class="collapse">
                    <li>
                        <a href="#">ite 12</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                </ul>
            </li>
            <li class="headrop attendance">
                <a href="#" data-toggle="collapse" data-target="#future">Future<i class="fa fa-fw fa-caret-down"></i></a>
                <ul id="future" class="collapse">
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 29</a>
                    </li>
                    <li>
                        <a href="#">ite 23</a>
                    </li>
                    <li>
                        <a href="#">ite 18</a>
                    </li>
                    <li>
                        <a href="#">ite 44</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <!-------------------------------- end sidebar ------------------------>
    <div class="col-lg-10 col-lg-offset-2 col-md-9 col-md-offset-3 col-sm-8 col-sm-offset-4 col-xs-12">
        <button type="button" class="navbar-toggle story_toggle collapsed text-right" data-toggle="collapse" data-target="#sidebar-collapse" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <div class="option_bar col-lg-12">
            <div class="filter_title form-group text-left col-lg-4 col-md-6 col-sm-12 col-xs-12">
                <label> Type : </label>
                <select class="filter_section">
                    <option> Existing Story </option>
                    <option> New Story </option>
                </select>
            </div>
            <div class="story_search col-lg-4 col-md-6 col-sm-12 col-xs-12">
                <div class="input-group">
                    <input type="text" class="story_search_field form-control" placeholder="Search for...">
                    <span class="go_search input-group-btn">
                        <button class="btn btn-primary" type="button">Go!</button>
                    </span>
                </div>
            </div>
            <div class="add_story col-lg-4 col-md-6 col-sm-12 col-xs-12">
                <div class="input-group">
                    <input type="text" class="story_add_field form-control" placeholder="Name for Story...">
                    <span class="go_add input-group-btn">
                        <button class="btn btn-success" type="button">Add!</button>
                    </span>
                </div>
            </div>

            <div class="col-lg-12 col-md-12 column story_table">
                <table class="table-bordered table table-hover">
                    <thead>
                        <tr>

                            <th class="col-md-3">Name</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Ahmed </td>
                        </tr>
                        <tr>
                            <td>Ahmed </td>
                        </tr>
                        <tr>
                            <td>Ahmed </td>
                        </tr>
                        <tr>
                            <td>Ahmed </td>
                        </tr>
                        <tr>
                            <td>Ahmed </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>

}
@section MainFooter{

    @Html.Partial("PartialViews/PartialAdminFooter")
}
@section  JavaScriptSection{

<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript">
        InsertNewStory('@Model.projectId');
        loadSprints('@Model.projectId');

        var _inCallback = false;
        jQuery(document).ready(function () {
            jQuery(function () {

                loadStories('@Model.projectId');
            });

        });

        jQuery.get("/Stories/Search?projectId=" + '@Model.projectId', function (availableStories) {
            $("#searchTxt").autocomplete({
                source: availableStories
            });

        });



        jQuery(function () {

            jQuery("#searchTxt").change(function () {
                jQuery('div#StoriesList').empty();
                jQuery(function () {
                    jQuery.ajax({
                        url: '/Stories/SearchTextChanged',
                        type: "GET",
                        data: { "searchTxt": jQuery("#searchTxt").val() },
                        success: function (data) {
                            loadStories('@Model.projectId', jQuery("#searchTxt").val());
                        }
                    });

                });


            });

        });


        //jQuery(function () {
        //    jQuery(".classnode").click(function (e) {
        //        var projectid = jQuery(this).attr("id");
        //        e.preventDefault();
        //        InsertNewStory(projectid);
        //    });
        //});

        function UpdateOrderCheckBox() {
            var projectId = '@Model.projectId';
            jQuery.ajax({
                url: "/Stories/OrderedByNameChecked",
                type: "GET",
                data: {},
                success: function () {

                    loadStories(projectId);

                }
            })

        }
        function UpdateReviewedCheckBox() {
            var projectId = '@Model.projectId';
            jQuery.ajax({
                url: "/Stories/ReviewedChecked",
                type: "GET",
                data: {},
                success: function () {

                    loadStories(projectId);

                }
            })

        }

    </script>


}
@section styles{


}
